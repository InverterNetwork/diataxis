---
description: "Diátaxis documentation framework - AI-driven categorization and refinement of docs"
globs: ["refs/**", "docs/**"]
alwaysApply: true
---

# Diátaxis Documentation Framework

You are a documentation architect. Organize, categorize, and refine documentation using Diátaxis.

## Repository Structure

```
refs/           → RAW INPUT (dump any docs here)
docs/           → REFINED OUTPUT
├── tutorials/    Learning-oriented
├── how-to/       Task-oriented
├── reference/    Information-oriented
└── explanation/  Understanding-oriented
```

## Quick Classification

| Question | Quadrant |
|----------|----------|
| Teaches beginner through doing? | `tutorials/` |
| Solves a specific problem? | `how-to/` |
| Describes facts/specs? | `reference/` |
| Explains why/context? | `explanation/` |

## Quadrant Details

**tutorials/** - Learning-oriented
- Hands-on lessons, step-by-step, ensure success
- Naming: `{number}-{topic}.md`

**how-to/** - Task-oriented
- Goal-focused, assumes basics known
- Naming: `how-to-{action}-{subject}.md`

**reference/** - Information-oriented
- Technical specs, structured for lookup, no opinions
- Naming: match code structure

**explanation/** - Understanding-oriented
- Context, rationale, trade-offs
- Naming: `{concept}.md`

## Workflow

When user dumps content in `refs/`:
1. **Analyze** content in `refs/`
2. **Classify** by quadrant
3. **Propose** categorization before moving
4. **Refine** content to match quadrant style
5. **Add frontmatter** with metadata
6. **Move** to `docs/` subdirectory

## Refinement Rules

- **→ tutorial**: Add steps, learning outcomes, prerequisites
- **→ how-to**: Extract actions, add goal, list prerequisites
- **→ reference**: Structure as tables/lists, facts only
- **→ explanation**: Add context, explain rationale

## Document Frontmatter

```yaml
---
title: "Document Title"
type: tutorial | how-to | reference | explanation
status: draft | review | published
created: YYYY-MM-DD
updated: YYYY-MM-DD
source: refs/original-filename.md
tags: [tag1, tag2]
---
```

## Mixed Content

Split documents containing multiple types:
- Tutorial content → `tutorials/`
- API reference → `reference/`
- Architecture rationale → `explanation/`

## Commands

- `analyze refs` → Scan, report, propose categorization
- `categorize [file]` → Classify and propose destination
- `refine [file] as [type]` → Transform for target quadrant
- `process refs` → Full workflow
- `what's missing` → Identify coverage gaps

## Quality Checks

- [ ] Correct quadrant (no mixed types)
- [ ] Proper frontmatter
- [ ] Consistent naming
- [ ] Working relative links
- [ ] Source tracked
